## 좋은 REST API를 위한 URI 설계 원칙 🏛️

지난 글에서 우리는 모든 자원(Resource)이 고유한 식별자, 즉 **URI**를 가져야 한다는 '자원의 식별' 원칙을 배웠습니다. 그렇다면 좋은 URI는 어떻게 만들어야 할까요? 이번 글에서는 누가 봐도 이해하기 쉽고, 일관성 있는 URI를 설계하기 위한 실용적인 규칙들을 알아보겠습니다.

---

### 1\. 자원은 '명사'로 표현하세요

URI는 어떤 동작(동사)이 아니라, **자원(명사) 그 자체를 가리켜야 합니다.** 자원의 상태를 가져오거나(`get`), 생성하는(`create`) 등의 행위는 이후에 배울 HTTP 메서드(`GET`, `POST`)가 담당하게 됩니다.

- **Bad ❌**

  ```
  /get-member-list
  /create-new-member
  ```

- **Good ✅**

  ```
  /members
  /articles
  ```

---

### 2\. Collection은 '복수형'으로 표현하세요

여러 개의 자원을 포함하는 **Collection을 표현할 때는 복수 명사를 사용하는 것이 일반적인 컨벤션**입니다. 이를 통해 URI만 보고도 자원의 집합을 의미하는지, 특정 자원 하나를 의미하는지 예측하기 쉬워집니다.

```
/members      # (모든) 멤버 목록을 의미하는 Collection
/members/1    # members Collection에 속한 1번 멤버 한 명을 의미
```

---

### 3\. 계층 관계는 슬래시(/)로 나타내세요

자원 간의 계층 구조나 포함 관계를 나타낼 때는 슬래시(`/`)를 사용합니다. 이는 마치 컴퓨터의 폴더 구조처럼 자원의 관계를 직관적으로 보여줍니다.

```
/articles/1/comments    # 1번 게시글에 포함된 댓글 목록
/articles/1/comments/2  # 1번 게시글의 댓글 중 2번 댓글 하나
```

---

### 4\. 마지막에 슬래시(/)를 붙이지 마세요

URI 끝에 붙는 슬래시(Trailing Slash)는 아무런 의미를 가지지 않아 혼동을 줄 수 있고, URI가 디렉터리(폴더)를 의미하는 것처럼 보이게 합니다. 따라서 자원을 가리키는 URI의 마지막에는 슬래시를 포함하지 않습니다.

- **Bad ❌**

  ```
  /articles/1/comments/
  ```

- **Good ✅**

  ```
  /articles/1/comments
  ```

---

### 5\. URI는 소문자로, 단어 구분은 하이픈(-)으로

URI 경로에는 대문자 사용을 피하고 **모두 소문자로 작성하는 것을 권장**합니다. 또한, 불가피하게 긴 단어를 사용해야 할 경우, 가독성을 위해 언더스코어(`_`)나 카멜 케이스(CamelCase) 대신 **하이픈(`-`)** 을 사용합니다.

- **Bad ❌**

  ```
  /articles/topVoted
  /articles/top_voted
  ```

- **Good ✅**

  ```
  /articles/top-voted
  ```

---

### 6\. 파일 확장자는 포함하지 마세요

URI에 `.json`이나 `.html`과 같은 파일 확장자를 포함하지 않는 것이 좋습니다. URI는 자원을 식별하는 고유한 이름이어야 하며, 자원의 표현 방식(Format)은 URI가 아닌 **요청 헤더의 `Content-Type`** 으로 지정하는 것이 RESTful한 접근입니다.

- **Bad ❌**

  ```
  /articles.html
  /members.json
  ```

- **Good ✅**

  ```
  /articles
  /members
  ```

---

### 7\. 필터링, 정렬 등은 쿼리 파라미터를 사용하세요

자원의 목록을 필터링하거나, 특정 조건으로 정렬하거나, 검색하는 등의 부가적인 조건은 **물음표(`?`) 뒤에 오는 쿼리 파라미터(Query Parameter)** 를 사용합니다.

```
# 최신순으로 정렬된 1번 게시글의 댓글 목록
/articles/1/comments?sort=latest
```

---

### 8\. 행위(동사)는 URI에 넣지 마세요

가장 중요한 규칙 중 하나입니다. 자원에 대한 생성, 수정, 삭제 등의 행위는 URI에 `delete`, `update`와 같은 동사를 포함하는 것이 아니라, **HTTP 메서드(`POST`, `PUT`, `DELETE` 등)를 통해 표현**해야 합니다.

- **Bad ❌**

  ```
  /members/1/delete
  /members/2/update
  ```

- **Good ✅**

  ```
  # '1번 멤버를 삭제하라'는 행위는 HTTP 메서드인 DELETE로 표현합니다.
  DELETE /members/1

  # '2번 멤버를 수정하라'는 행위는 PUT 또는 PATCH 메서드로 표현합니다.
  PUT /members/2
  ```

---

### ✍️ 마무리하며

지금까지 알아본 규칙들은 모두 **직관적이고 명확한 URI**를 만들기 위한 약속입니다. 규칙이 많아 보이지만, 'URI는 자원을 명확히 식별해야 한다'는 큰 관점에서 보면 모두 자연스럽게 이해될 거예요.

물론 실제 프로젝트를 진행하다 보면 이 모든 규칙을 100% 지키기 어려운 예외적인 상황이 생길 수도 있습니다. 그럴 때는 규칙 자체에 얽매이기보다, API를 사용하는 클라이언트 개발자와의 소통과 약속을 우선하는 유연함도 필요하다는 점을 기억해 주세요\!
