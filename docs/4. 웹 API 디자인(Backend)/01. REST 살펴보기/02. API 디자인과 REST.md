## 웹 API 디자인과 REST의 모든 것

지금 이 순간에도 웹 서비스는 수많은 API 요청과 응답을 통해 살아 움직입니다. 클라이언트가 서버에 무언가를 **요청(Request)** 하고, 서버는 그 결과를 **응답(Response)** 으로 돌려주죠. 이 과정이 물 흐르듯 자연스럽게 이루어지려면, 클라이언트와 서버는 서로 잘 정돈된 **'약속'** 을 따라야 합니다.

만약 이 약속이 너무 복잡하고 지키기 어렵다면 어떻게 될까요? 클라이언트는 요청을 제대로 보내기 어렵고, 서버는 요청의 의도를 파악하지 못해 엉뚱한 응답을 줄 수 있습니다. 이런 실수가 잦아질수록 서비스는 불안정해질 수밖에 없습니다.

그래서 많은 개발자는 오랫동안 '어떻게 하면 이 약속을 잘 디자인할 수 있을까?'를 고민해왔고, 그 결과로 가장 널리 채택된 디자인 원칙이 바로 **REST**입니다.

---

### REST란 무엇일까요?

**REST(Representational State Transfer)** 란 웹(HTTP)의 장점을 최대한 활용할 수 있도록 고안된 **'API 디자인 가이드'** 또는 **'아키텍처 스타일'** 입니다. 이름이 조금 어렵게 느껴지지만, 핵심은 간단합니다.

> **네트워크에 존재하는 자원(Resource)에 고유한 이름(URI)을 붙여 식별하고, 해당 자원의 상태(State)를 주고받는 방식**을 정리한 원칙입니다.

즉, REST는 HTTP의 잠재력을 최대한 끌어내기 위한 원칙이며, **REST API**란 이 원칙을 충실하게 지켜 만든 API를 의미합니다.

---

### REST API vs RESTful API: 현실적인 접근

하지만 현실의 모든 API가 REST의 모든 원칙을 칼같이 지키는 것은 아닙니다. 모든 제약 조건을 지키는 데는 많은 비용과 시간이 들고, 때로는 그 효과가 투자한 만큼 크지 않을 수 있기 때문입니다.

그래서 대부분의 API는 REST의 핵심적인 몇 가지 원칙만 채택하여 구현하는 경우가 많습니다.

- 이렇게 REST의 제약 조건을 잘 만족하는 API를 **'RESTful 하다'** 라고 표현하며, 이런 API를 **RESTful API**라고 부릅니다.

> 💡 **REST API, HTTP API 같은 말인가요?**
>
> REST는 HTTP 통신을 기반으로 하므로, 'HTTP 기반의 웹 API'라면 대부분 REST 원칙을 어느 정도 따르고 있습니다. 이 때문에 현업에서는 'REST API'와 'HTTP API'를 거의 같은 의미로 사용하기도 합니다. 하지만 엄밀히 말하면, **REST의 원칙을 모두 지킨 API만이 진정한 의미의 REST API**라고 할 수 있습니다.

---

### REST를 구성하는 6가지 핵심 원칙

REST 아키텍처는 다음과 같은 6가지 제약 조건으로 구성됩니다.

1.  **클라이언트-서버 (Client-Server)**: 클라이언트와 서버의 역할을 명확히 분리합니다.
2.  **무상태성 (Statelessness)**: 서버는 클라이언트의 상태를 저장하지 않으며, 모든 요청은 그 자체로 완전한 정보를 담고 있어야 합니다.
3.  **캐시 (Cacheable)**: 클라이언트는 서버의 응답을 캐싱하여 재사용할 수 있어야 합니다. 이는 성능 향상에 큰 도움이 됩니다.
4.  **일관된 인터페이스 (Uniform Interface)**: API 디자인에 가장 큰 영향을 주는 핵심 조건으로, 아래 4가지 세부 규칙을 가집니다.
5.  **계층화된 시스템 (Layered System)**: 클라이언트는 바로 앞의 서버와 통신할 뿐, 그 뒤에 프록시나 로드 밸런서 등 다른 계층이 있는지 알 필요가 없습니다.
6.  **주문형 코드 (Code-On-Demand, 선택 사항)**: 서버가 클라이언트에 실행 가능한 코드를 전송하여 기능을 동적으로 확장할 수 있도록 하는, 유일한 선택적 제약 조건입니다.

---

### API 디자인의 핵심: 일관된 인터페이스 (Uniform Interface)

위 6가지 원칙 중, 우리가 API를 실제로 디자인할 때 가장 직접적으로 영향을 주는 것은 바로 **'일관된 인터페이스'** 입니다. API를 만든다는 것은 결국 '어디로(URI), 어떻게(HTTP Method), 무엇을 담아(Payload)' 요청을 보낼지 정하는 과정인데, 이 모든 것이 바로 이 원칙과 관련이 깊습니다.

'일관된 인터페이스'는 다시 4가지 세부 제약 조건으로 나뉩니다.

- 자원의 식별 (Identification of resources)
- 표현을 통한 자원의 조작 (Manipulation of resources through representations)
- 자기 서술적 메시지 (Self-descriptive messages)
- 애플리케이션의 상태 전이 (Hypermedia as the Engine of Application State, HATEOAS)

이 각각의 의미는 나중에 더 자세히 알아보겠습니다.
