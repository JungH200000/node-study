## 비밀번호를 알려주지 않고 권한만 위임하는 법, OAuth 🔑

지금까지 우리는 하나의 서비스 안에서 이루어지는 인증과 인가에 대해 알아봤습니다. 하지만 현대 웹은 여러 서비스가 서로 상호작용하는 거대한 생태계입니다.

이번 글에서는 **한 서비스가 다른 서비스의 데이터에 안전하게 접근**할 수 있도록 해주는 **접근 권한 위임(Delegated Access)** 과 그 표준 기술인 **OAuth**에 대해 알아보겠습니다.

---

### "ChatGPT에서 내 구글 캘린더를 쓰게 할 순 없을까?"

다음과 같은 상황을 상상해 보세요.

> 여러분은 `ChatGPT`에게 "내일 내 구글 캘린더에 있는 약속들을 보고, 저녁 7시에 친구와 저녁 약속을 추가해줘" 라고 요청하고 싶습니다.

이 작업을 수행하려면, `ChatGPT`는 여러분의 `구글 캘린더` 정보에 접근할 수 있는 권한이 필요합니다. 하지만 구글 캘린더는 여러분의 개인 정보로 보호받고 있죠. 어떻게 이 문제를 해결할 수 있을까요?

---

### 위험한 방법들 (OAuth가 없던 시절)

OAuth라는 표준이 등장하기 전에는, 몇 가지 비효율적이거나 아주 위험한 방법들을 사용해야 했습니다.

#### **방법 1: 직접 복사 붙여넣기 (수동)**

사용자가 직접 구글 캘린더에서 일정을 복사해 ChatGPT에 붙여넣는 방법입니다. 데이터의 양이 많거나 자주 바뀌는 경우에는 너무나 번거롭고 비효율적입니다.

#### **방법 2: 아이디와 비밀번호 알려주기 (최악의 방법!)**

**사용자가 자신의 구글 아이디와 비밀번호를 ChatGPT에 직접 알려주는 방법**입니다. ChatGPT는 이 정보를 이용해 여러분인 척 구글에 로그인해서 캘린더 정보를 가져올 수 있겠죠.

이 방법은 자동화가 가능해 편리해 보이지만, **절대로 사용해서는 안 되는 최악의 방식**입니다. 여러분의 집 현관문 마스터키를 낯선 사람에게 주는 것과 같습니다. ChatGPT가 여러분의 비밀번호를 안전하게 관리할지, 혹은 악용하여 캘린더뿐만 아니라 Gmail, 구글 드라이브 등 모든 데이터에 접근할지 알 수 없기 때문입니다.

---

### ✨ 해결사 등판: OAuth (접근 권한 위임)

이러한 문제를 해결하기 위해 등장한 것이 바로 **OAuth(Open Authorization)** 라는 **개방형 접근 권한 위임 표준**입니다.

> **호텔의 '객실 키'에 비유해 볼까요? 🏨**
>
> 1.  여러분은 호텔에 묵고 있는 **투숙객**(`사용자`)입니다.
> 2.  외부 **청소 업체**(`ChatGPT`)에게 내 방 청소를 맡기고 싶습니다.
> 3.  이때, 내 모든 방과 시설을 이용할 수 있는 **마스터키**(`구글 비밀번호`)를 청소 업체에 직접 주는 것은 매우 위험합니다.
> 4.  대신, 여러분은 호텔 **프런트 데스크**(`구글`)로 가서 이렇게 요청합니다. "이 청소 업체에게, **오늘 오후 3시부터 4시까지, 내 방만 열 수 있는 임시 카드키**를 발급해주세요."
>
> 이 과정이 바로 **OAuth** 입니다. 청소 업체는 여러분의 마스터키를 절대로 알 수 없으며, 오직 여러분이 **'위임'** 해준 **'제한된 권한'(내 방 청소)만 제한된 시간 동안** 수행할 수 있게 됩니다.

이처럼 OAuth는 사용자의 민감한 정보(아이디, 비밀번호)를 제3자 서비스에 직접 노출하지 않으면서, **필요한 기능에 대한 접근 권한만을 안전하게 부여(위임)할 수 있도록 하는 절차**입니다.

---

### ✍️ 마무리하며

- **OAuth**는 한 서비스(클라이언트 앱)가 다른 서비스(리소스 서버)에 있는 사용자의 데이터에 접근할 수 있도록 **접근 권한을 위임**하는 표준 프로토콜입니다.
- 사용자는 자신의 **아이디와 비밀번호를 제3자 앱에 직접 제공할 필요가 없습니다.**
- 대신, 데이터가 저장된 원래 서비스(예: 구글, 페이스북)를 통해, 제3자 앱에게 **제한된 범위와 시간 동안만 유효한 접근 권한**을 부여하게 됩니다.
- 우리가 흔히 보는 '구글로 로그인하기', '카카오로 로그인하기' 기능이 바로 이 OAuth 기술을 기반으로 동작합니다.
