## 데이터를 안전하게 전달하는 택배상자: 인코딩과 Base64URL 📦

### 인코딩(Encoding), 왜 필요할까요?

HTTP 헤더나 URL 주소창은 정해진 규칙에 맞는 **안전한 문자들(주로 ASCII 문자)** 만 사용하도록 설계되었습니다. 하지만 세상에는 한글, 특수문자, 이미지, 동영상 등 안전하지 않은 문자나 데이터가 훨씬 더 많죠.

만약 이런 데이터들을 아무런 처리 없이 그대로 URL이나 헤더에 담아 보낸다면, 데이터가 깨지거나 시스템이 오작동할 수 있습니다. 이 문제를 해결하기 위해 우리는 데이터를 안전한 형태로 포장하는 **인코딩(Encoding)** 과정을 거칩니다.

> **인코딩 vs. 암호화, 뭐가 다른가요?**
>
> - **인코딩 (Encoding)**: 데이터를 **안전하게 전달**하기 위한 '포장'입니다. 누구든 포장 규칙(인코딩 방식)만 알면 다시 원래 데이터로 되돌릴 수 있습니다(디코딩). 목적은 **호환성**입니다.
> - **암호화 (Encryption)**: 허락된 사람 외에는 내용을 **알아볼 수 없도록** 만드는 '잠금'입니다. 비밀키가 없으면 원래 데이터로 되돌릴 수 없습니다(복호화). 목적은 **보안**입니다.

웹에서는 수많은 인코딩 방식 중, 특히 **Base64URL** 방식이 널리 사용됩니다.

---

### 웹에서 가장 사랑받는 인코딩: Base64 & Base64URL

지금부터 설명하는 내용은 상세한 동작 원리로, 반드시 암기할 필요는 없습니다. **"아, 이런 원리로 어떤 데이터든 안전한 문자로 바꾸는구나\!"** 정도로 가볍게 이해하고 넘어가셔도 충분합니다.

#### **Base64: 64개의 문자로 세상을 표현하기**

**Base64**는 세상의 모든 데이터를 **64개의 안전한 ASCII 문자**(영문 대소문자 `A-Z, a-z`, 숫자 `0-9`, 그리고 `+`, `/`) 조합으로 변환하는 인코딩 방식입니다.

컴퓨터가 이해하는 이진수(0과 1) 형태로 데이터를 바꾼 뒤, 6비트씩 잘라 각각을 64개의 문자 중 하나로 짝지어주는 원리입니다. 이 방식을 사용하면 이미지 파일이든, 한글이든 모두 안전한 영어 알파벳과 숫자 조합으로 바꿀 수 있습니다.

- **Base64 인코딩 예시**

  ```
  한글도 인코딩할 수 있어요 <=> 7ZWc6riA64-EIOyduOy9lOuUqe2VoCDsiJgg7J6I7Ja07JqU
  ```

물론, 이 과정은 양방향입니다. Base64로 인코딩된 문자열은 언제든 다시 원래의 데이터로 **디코딩(Decoding)** 할 수 있습니다.

#### **Base64URL: URL에서도 안전하게\!**

그런데 Base64가 사용하는 64개의 문자 중 `+`와 `/`는 URL에서 특별한 의미(공백, 경로 구분 등)를 가지는 경우가 있어 문제를 일으킬 수 있습니다.

**Base64URL**은 이 문제를 해결하기 위해 Base64를 살짝 변형한 방식입니다.

- `+` 문자를 `-` 문자로 변경
- `/` 문자를 `_` 문자로 변경
- URL에서 혼동을 줄 수 있는 마지막의 `=` 패딩(자리 채움 문자)을 제거

이처럼 URL에서 문제를 일으킬 수 있는 문자들을 모두 안전한 문자로 대체했기 때문에, 이름 그대로 **URL 환경에서 사용하기에 최적화된 인코딩 방식**입니다. JWT(JSON Web Token)의 일부로 사용되는 등 최신 웹 기술에서 매우 중요한 역할을 하고 있습니다.

---

### ✍️ 마무리하며

- **인코딩**은 데이터의 '보안'이 아닌 '안전한 전달'을 위해, 데이터를 정해진 규칙에 따라 다른 형식으로 변환하는 과정입니다.
- **Base64**는 모든 데이터를 64개의 안전한 ASCII 문자로 변환하는 대표적인 인코딩 방식입니다.
- **Base64URL**은 Base64에서 `+`, `/` 문자를 각각 `-`, `_`로 바꾸고 `=` 패딩을 제거하여, **URL 환경에서도 데이터를 안전하게 전달**할 수 있도록 만든 방식입니다.
- 우리는 이 인코딩 덕분에, 복잡한 데이터가 포함된 토큰 등을 HTTP 헤더나 URL을 통해 안정적으로 주고받을 수 있습니다.
