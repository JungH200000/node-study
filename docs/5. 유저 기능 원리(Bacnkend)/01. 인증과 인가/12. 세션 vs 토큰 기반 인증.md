## 세션 vs. 토큰: 나에게 맞는 인증 방식은? (장단점 완벽 비교) 🥊

지금까지 우리는 사용자의 로그인 상태를 유지하는 대표적인 두 가지 방법, **세션(Session) 기반 인증**과 **토큰(Token) 기반 인증**에 대해 알아봤습니다. 둘 다 훌륭한 방식이지만, 서로 다른 특징과 장단점을 가지고 있죠.

이번 글에서는 두 방식을 여러 기준에 따라 직접 비교해보면서, 어떤 상황에 어떤 방식이 더 적합할지 판단하는 기준을 세워보겠습니다.

---

### 📊 항목별 장단점 비교

#### **1. 효율성과 확장성 (서버 부하)**

- **세션 기반 인증**: 서버는 모든 사용자의 세션 정보를 자신의 저장소(메모리, 데이터베이스 등)에 보관해야 합니다. 사용자가 로그인할 때마다 이 정보를 기록하고, 요청이 올 때마다 저장된 정보와 비교해야 하죠. 로그인한 사용자가 수십, 수백만 명으로 늘어날 경우, 이 정보를 저장하고 조회하는 데 상당한 시간과 자원이 소요되어 **서버에 부하**를 줄 수 있습니다.

- **토큰 기반 인증**: 서버는 사용자의 상태를 저장하지 않습니다(Stateless). 토큰 자체에 모든 정보가 담겨있고, 암호화된 서명을 통해 유효성을 검증하기만 하면 되죠. 별도의 저장소 조회가 필요 없기 때문에, **더 효율적이고 사용자가 많아져도 서버를 손쉽게 확장**할 수 있습니다.

---

#### **2. 유연성 (다양한 서비스 연동)**

- **세션 기반 인증**: 세션 정보는 해당 세션을 생성한 서버에 종속됩니다. 따라서 여러 개의 독립적인 서비스로 구성된 **마이크로서비스 아키텍처**에서는 사용자의 세션 정보를 모든 서비스가 공유하기가 매우 까다롭습니다.

- **토큰 기반 인증**: 토큰을 검증하기 위해 필요한 것은 **'비밀키'** 뿐입니다. 여러 서비스가 동일한 비밀키만 공유하고 있다면, `A` 서비스에서 발급받은 토큰으로도 `B` 서비스나 `C` 서비스에서 사용자를 인증할 수 있습니다. 이는 **현대적인 분산 시스템 환경에서 매우 유연하게** 작동할 수 있다는 큰 장점을 가집니다.

---

#### **3. RESTful 철학과의 부합성**

- **세션 기반 인증**: 서버가 사용자의 로그인 '상태'를 직접 저장하고 관리하므로, **'Stateful(상태 유지)'** 한 구조입니다.

- **토큰 기반 인증**: 서버는 상태를 저장하지 않고, 모든 요청은 토큰을 통해 그 자체로 완전한 정보를 담고 있습니다. 이는 REST의 핵심 원칙 중 하나인 **'Stateless(무상태성)'** 구조에 완벽하게 부합합니다.

따라서 엄격한 의미의 **RESTful API를 설계한다면, 토큰 기반 인증이 더 적합**한 방식입니다.

---

#### **4. 보안 (강제 로그아웃)**

- **세션 기반 인증**: 이 항목에서는 세션이 명확한 장점을 가집니다. 모든 세션 정보는 서버가 직접 관리하므로, 관리자는 **언제든 특정 사용자의 세션을 강제로 무효화**할 수 있습니다. 만약 특정 계정이 탈취된 것으로 의심될 때, 즉시 해당 세션을 삭제하여 강제로 로그아웃시킬 수 있는 것이죠.

- **토큰 기반 인증**: 토큰은 한 번 발급되고 나면, 유효기간이 만료될 때까지 계속 유효합니다. 서버가 상태를 저장하지 않기 때문에, **이미 발급된 특정 토큰 하나만 골라서 무효화하는 것이 매우 복잡**합니다. 금융 서비스와 같이 즉각적인 접근 차단이 중요한 경우, 이는 큰 단점이 될 수 있습니다. (물론, '토큰 블랙리스트'를 구현하는 등의 방법으로 이를 보완할 수는 있습니다.)

---

### 💡 그래서, 무엇을 선택해야 할까요?

| 기준              | 세션 기반 인증         | 토큰 기반 인증                |
| :---------------- | :--------------------- | :---------------------------- |
| **상태 관리**     | 서버가 관리 (Stateful) | 클라이언트가 관리 (Stateless) |
| **확장성**        | 낮음                   | 높음                          |
| **유연성**        | 낮음 (단일 도메인)     | 높음 (다중 도메인, MSA)       |
| **강제 로그아웃** | 쉬움                   | 복잡함                        |
| **RESTful**       | 부합하지 않음          | 부합함                        |

'무조건 더 좋은 방식'은 없습니다. 두 방식의 장단점을 이해하고, 우리가 만들 서비스의 특성에 맞는 기술을 선택하는 것이 중요합니다.

- **세션 기반 인증은...**

  - 단일 서버와 웹 브라우저 환경에서 비교적 간단하게 구현하고 싶을 때
  - 서버에서 사용자의 활동을 직접 제어하고, 강제 로그아웃 기능이 반드시 필요할 때

- **토큰 기반 인증은...**
  - 여러 대의 서버를 사용하는 대규모 서비스나 마이크로서비스 아키텍처일 때
  - 웹뿐만 아니라 모바일 앱 등 다양한 클라이언트를 지원해야 할 때
  - 엄격한 RESTful API를 구현하고자 할 때

---

### ✍️ 마무리하며

지금까지 세션 기반 인증과 토큰 기반 인증의 주요 차이점을 비교해 보았습니다.

과거에는 세션 기반 인증이 널리 쓰였지만, 현대 웹 개발의 트렌드가 **분산 시스템(마이크로서비스)과 다양한 클라이언트(모바일 앱) 지원**으로 넘어가면서, **확장성과 유연성이 뛰어난 토큰 기반 인증(특히 JWT)이 사실상의 표준**으로 자리 잡고 있습니다.

하지만 세션 기반 인증 역시 서버 측 제어가 용이하다는 명확한 장점이 있으므로, 각 방식의 핵심 원리를 이해하고 상황에 맞게 올바른 도구를 선택하는 것이 좋은 개발자의 역량일 것입니다.
