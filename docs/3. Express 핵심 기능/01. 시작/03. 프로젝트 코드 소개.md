## 🚀 기본 프로젝트 코드 훑어보기

앞으로 Express의 여러 핵심 기능을 알아보기 위해 아주 간단한 프로젝트 코드를 사용할 예정입니다. 본격적인 학습에 앞서, 우리가 사용할 프로젝트의 구조와 코드를 가볍게 살펴보겠습니다.

### 1\. 프로젝트 설정 파일: `package.json`

모든 Node.js 프로젝트의 심장과 같은 `package.json` 파일입니다. 이 파일은 프로젝트의 정보, 의존성(설치된 라이브러리), 실행 명령어 등을 관리합니다.

```json
{
  "name": "node03-express-core-features",
  "version": "1.0.0",
  "description": "",
  "main": "src/app.js",
  "type": "module",
  "scripts": {
    "dev": "nodemon src/app.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "express": "^5.1.0"
  },
  "devDependencies": {
    "nodemon": "^3.1.10"
  }
}
```

- **`dependencies`**: 실제 서비스 운영에 필요한 **Express** 프레임워크가 포함되어 있습니다.
- **`devDependencies`**: 코드 변경 시 서버를 자동으로 재시작해주는 개발용 도구 **Nodemon**이 포함되어 있습니다.

---

### 2\. Express 서버의 핵심: `src/app.js`

다음은 우리 웹 서버의 실제 동작을 정의하는 `src/app.js` 파일입니다. 지금은 최소한의 기능만 담겨 있습니다.

```javascript
// src/app.js

// 1. Express 모듈을 가져옵니다.
import express from 'express';

// 2. Express 애플리케이션 객체를 생성합니다.
// 이 'app' 객체를 통해 서버의 모든 기능을 설정합니다.
const app = express();
const PORT = 3000; // 서버를 실행할 포트 번호를 상수로 관리하면 편리합니다.

// 3. 최상위 경로('/')에 대한 GET 요청을 처리하는 라우터를 설정합니다.
// 클라이언트가 우리 서버의 기본 주소로 접속하면 이 코드가 실행됩니다.
app.get('/', (req, res) => {
  // req: 클라이언트의 요청(Request) 정보를 담은 객체
  // res: 서버가 보낼 응답(Response)을 처리하는 객체

  // 클라이언트에게 JSON 형태로 메시지를 응답합니다.
  res.json({ message: '안녕, 반가워요!' });
});

// 4. 지정된 포트(3000번)에서 서버를 실행하고, 실행되면 콘솔에 메시지를 출력합니다.
app.listen(PORT, () => {
  console.log(`🚀 Server started on port ${PORT}`);
});
```

코드의 각 부분에 주석을 추가하여 어떤 역할을 하는지 이해하기 쉽도록 만들었습니다. 지금은 "Express를 사용해 서버를 만들고, 특정 주소(`GET /`)로 요청이 오면 정해진 메시지를 응답하는구나" 정도로 이해하시면 충분합니다.

---

### 3\. 서버 실행 및 테스트

이제 이 서버를 실행하고 정말로 잘 작동하는지 확인해 봅시다.

#### 서버 실행하기

터미널에 `nodemon src/app.js` 명령어를 직접 입력해도 되지만, 우리는 `package.json`의 `scripts`에 이 명령어를 `"dev"`라는 이름으로 이미 등록해 두었습니다. 따라서 아래 명령어로 간단하게 서버를 실행할 수 있습니다.

```bash
npm run dev
```

터미널에 `🚀 Server started on port 3000` 메시지가 나타나면 성공적으로 서버가 실행된 것입니다.

#### API 요청 보내기

서버가 요청을 잘 받는지 확인하려면 API 테스트 도구가 필요합니다. 이전 글에서 설치를 권장했던 VS Code의 **REST Client** 확장 프로그램을 사용해 보겠습니다.

1.  프로젝트에 `app.http`와 같은 파일을 하나 생성합니다.

2.  파일에 아래와 같이 요청 코드를 작성합니다.

    ```http
    ### 내 첫번째 API 테스트
    GET http://localhost:3000
    ```

3.  코드 바로 위에 나타나는 `Send Request` 버튼을 클릭하여 서버에 요청을 보냅니다.

요청이 성공적으로 처리되면, 다음과 같은 응답(Response)을 화면에서 확인할 수 있습니다.

```response
HTTP/1.1 200 OK
X-Powered-By: Express
Content-Type: application/json; charset=utf-8
Content-Length: 35
ETag: W/"23-C+fXEEkex2HNLSdlmtGPbf9OzOw"
Date: Wed, 03 Sep 2025 00:58:12 GMT
Connection: close

{
  "message": "안녕, 반가워요!"
}
```

`HTTP/1.1 200 OK`는 요청이 성공적으로 처리되었음을 의미하는 상태 코드입니다. 본문(Body)에는 우리가 `app.js`에서 보내기로 약속했던 JSON 메시지가 잘 담겨 있네요\!
