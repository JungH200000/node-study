## `...` 문법

이 연산자는 **두 가지 얼굴**을 가지고 있습니다. 사용하는 위치에 따라 역할이 달라지거든요.

- **펼칠 때 (Spread Syntax)**: 배열이나 객체를 복사하거나 합칠 때.
- **모을 때 (Rest Parameters)**: 여러 요소를 하나로 모을 때.

---

### ✨ 첫 번째 얼굴: 펼침 연산자 (Spread Syntax)

이름 그대로, 배열이나 객체가 가진 내용물을 **그 자리에 활짝 펼쳐놓는** 역할을 합니다.

#### **배열 펼치기**

`...` 연산자는 배열의 대괄호 `[]`를 벗겨내고 알맹이만 꺼내놓는다고 생각하면 쉽습니다.

```javascript
const fruits = ['🍓', '🍌'];
const moreFruits = [...fruits, '🍊', '🥭']; // ['🍓', '🍌', '🍊', '🥭']

// 위 코드는 사실상 아래와 같습니다.
// const moreFruits = ['🍓', '🍌', '🍊', '🥭'];
```

`...fruits`가 `fruits` 배열의 껍데기(`[]`)를 벗기고 `'🍓', '🍌'`라는 알맹이만 그 자리에 펼쳐놓은 것입니다.

#### **객체 펼치기**

객체에서도 똑같이 동작합니다. 객체의 중괄호 `{}`를 벗겨내고 속성들을 그 자리에 펼쳐놓습니다.

```javascript
const userFields = {
  email: 'hyun@example.com',
  firstName: '사',
};

// ...userFields가 객체의 속성들을 그 자리에 펼쳐놓습니다.
const user = {
  ...userFields,
  lastName: '현',
};

// 최종 user 객체
// {
//   email: 'hyun@example.com',
//   firstName: '사',
//   lastName: '현'
// }
```

우리가 작성했던 `data: { ...userFields, ... }` 코드가 바로 이 경우입니다\! `userFields` 객체의 모든 속성을 `data` 객체 안으로 복사(펼치기)한 것이죠.

---

### 📥 두 번째 얼굴: 나머지 매개변수 (Rest Parameters)

구조 분해 할당(destructuring)과 함께 쓰일 때, `...` 연산자는 **'나머지 전부'** 를 모아서 새로운 배열이나 객체에 담는 역할을 합니다.

#### **배열 모으기**

```javascript
const fruits = ['🍓', '🍌', '🍊', '🥭'];
const [first, ...rest] = fruits;

console.log(first); // '🍓'
console.log(rest); // ['🍌', '🍊', '🥭'] -> 나머지 전부를 새로운 배열에 담음
```

#### **객체 모으기**

이것이 바로 `const { userPreference, ...userFields } = req.body;` 코드에서 사용된 방식입니다.

```javascript
const reqBody = {
  email: 'hyun@example.com',
  firstName: '사',
  lastName: '현',
  userPreference: { receiveEmail: false },
};

// userPreference를 제외한 '나머지 속성 전부'를 userFields라는 새 객체에 모아줘!
const { userPreference, ...userFields } = reqBody;

console.log(userPreference); // { receiveEmail: false }
console.log(userFields);
// {
//   email: "hyun@example.com",
//   firstName: "사",
//   lastName: "현"
// }
```

---

### 요약

| 구분          | 펼침 연산자 (Spread)                                | 나머지 매개변수 (Rest)                 |
| :------------ | :-------------------------------------------------- | :------------------------------------- |
| **역할**      | 껍데기(`, `[ ]`, `{ }\`)를 벗겨 **내용물을 펼친다** | 지정한 것을 제외한 **나머지를 모은다** |
| **사용 위치** | 배열/객체 리터럴 내부                               | 구조 분해 할당, 함수 파라미터          |

하나의 `...` 기호가 문맥에 따라 두 가지 역할을 모두 수행하는 것입니다. 아주 영리한 문법이죠\!
