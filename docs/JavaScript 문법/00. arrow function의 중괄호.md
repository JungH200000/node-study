## 🚀 화살표 함수, 중괄호 { } 하나로 결과가 달라지는 이유

JavaScript의 화살표 함수(`=>`)는 코드를 간결하게 만들어주는 매우 유용한 문법입니다. 하지만 단 한 글자, 중괄호(`{}`)의 유무에 따라 함수의 동작 방식이 완전히 달라질 수 있다는 사실, 알고 계셨나요?

겉보기엔 비슷하지만 전혀 다른 결과를 내는 두 코드를 통해 그 차이점을 명확하게 알아보겠습니다.

### 무엇이 다를까요?

핵심적인 차이는 화살표(`=>`) 뒤에 오는 코드를 **중괄호 `{}`로 감쌌는지** 여부입니다.

#### ✅ 1. 중괄호가 없는 경우: 암시적 반환 (Implicit Return)

```javascript
const task = tasks.find((task) => task.id === id);
```

화살표 함수 `=>` 뒤에 중괄호 `{}`가 없으면, JavaScript는 `task.id === id`의 **결과값(true 또는 false)을 자동으로 반환(return)합니다.** 이를 **암시적 반환(Implicit Return)** 이라고 부릅니다.

`find` 메소드는 반환된 값이 `true`일 때 해당 요소를 찾아서 반환하므로, 이 코드는 의도한 대로 정확하게 동작합니다.

#### ❌ 2. 중괄호가 있는 경우: 명시적 반환 (Explicit Return) 필요

```javascript
const task = tasks.find((task) => {
  task.id === id; // 비교만 할 뿐, 아무것도 반환하지 않음
});
```

화살표 함수 `=>` 뒤에 중괄호 `{}`를 사용하면, 함수의 실행문이 시작되는 본문(body) 블록으로 인식됩니다.

이 경우, JavaScript는 자동으로 값을 반환하지 않으므로, 값을 반환하려면 반드시 **`return` 키워드를 명시적으로 작성**해야 합니다. 위 코드는 `task.id === id` 비교 연산만 수행할 뿐 그 결과를 `return`하지 않으므로, 함수는 항상 `undefined`를 반환하게 됩니다.

결국 `find` 메소드는 콜백 함수로부터 계속 `undefined`(falsy 값)만 받기 때문에 조건을 만족하는 요소를 절대 찾지 못하고, 최종적으로 `undefined`를 반환합니다.

### 올바르게 수정하려면?

두 번째 코드를 첫 번째와 동일하게 동작하도록 만들려면, 다음과 같이 `return`을 직접 추가해야 합니다.

```javascript
// 이렇게 'return'을 추가해야 첫 번째 코드와 동일하게 동작합니다.
const task = taskns.find((task) => {
  return task.id === id;
});
```

### 한눈에 보는 요약

| 구분            | `(task) => task.id === id`                    | `(task) => { task.id === id; }`        |
| :-------------- | :-------------------------------------------- | :------------------------------------- |
| **중괄호 `{}`** | 없음                                          | 있음                                   |
| **반환 방식**   | **암시적 반환** (Implicit Return)             | **명시적 반환** (Explicit Return) 필요 |
| **반환 값**     | `task.id === id`의 결과 (`true` 또는 `false`) | `return`문이 없으므로 항상 `undefined` |
| **`find` 결과** | 조건을 만족하는 **요소** 또는 `undefined`     | 항상 **`undefined`**                   |

간단한 로직에서는 중괄호와 `return`을 생략할 수 있는 첫 번째 방식이 코드를 훨씬 간결하게 만들어주기 때문에 **현업에서 널리 쓰입니다.** 여러 줄의 복잡한 로직이 필요할 때만 두 번째 방식처럼 중괄호와 `return`을 함께 사용합니다.

### 더 알아보기

이러한 화살표 함수의 동작 방식은 **ECMAScript (ES6)** 사양에 정의되어 있습니다. 간결한 함수 표현을 위해 암시적 반환 기능이 도입되었으며, 이는 특히 함수형 프로그래밍 스타일에서 코드를 더 깔끔하고 읽기 쉽게 만드는 데 큰 도움이 됩니다.

- **참고 문서:** [MDN Web Docs - 화살표 함수](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/Arrow_functions) (특히 '본문이 한 줄인 화살표 함수' 섹션을 확인해 보세요\!)
