## ğŸ“œ ë°ì´í„°ì˜ ì„¤ê³„ë„, ìŠ¤í‚¤ë§ˆ(Schema) ì •ì˜í•˜ê¸°

Mongooseë¡œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ì²« ë‹¨ê³„ëŠ” ë°”ë¡œ **ìŠ¤í‚¤ë§ˆ(Schema)** ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ìŠ¤í‚¤ë§ˆëŠ” ìš°ë¦¬ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•  **ë°ì´í„°ê°€ ì–´ë–¤ êµ¬ì¡°ì™€ ê·œì¹™ì„ ê°€ì ¸ì•¼ í•˜ëŠ”ì§€ë¥¼ ì •ì˜í•˜ëŠ” 'ì„¤ê³„ë„'** ë˜ëŠ” 'í‹€'ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 'í•  ì¼(Task)' ë°ì´í„°ëŠ” ë°˜ë“œì‹œ 'ì œëª©(title)'ì„ ê°€ì ¸ì•¼ í•˜ê³ , 'ì™„ë£Œ ì—¬ë¶€(isComplete)'ëŠ” ì°¸/ê±°ì§“(Boolean) ê°’ì´ì–´ì•¼ í•œë‹¤ëŠ” ê·œì¹™ì„ ì •í•˜ëŠ” ê²ƒì´ì£ .

### 1ë‹¨ê³„: ëª¨ë¸ íŒŒì¼ ìƒì„±í•˜ê¸°

ë¨¼ì € í”„ë¡œì íŠ¸ì— `models`ë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ê³ , ê·¸ ì•ˆì— `Task.js` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. ì•ìœ¼ë¡œ `Task` ë°ì´í„°ì™€ ê´€ë ¨ëœ ëª¨ë“  ì„¤ê³„ì™€ ê·œì¹™ì€ ì´ íŒŒì¼ì—ì„œ ê´€ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.

> **ğŸ“‚ `models` í´ë”?**
> Mongooseì˜ ëª¨ë¸ ì •ì˜ ì½”ë“œë¥¼ ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ì—¬ `models` í´ë”ì— ëª¨ì•„ë‘ëŠ” ê²ƒì€ Node.js í”„ë¡œì íŠ¸ì˜ í‘œì¤€ì ì¸ êµ¬ì¡°ì…ë‹ˆë‹¤.

### 2ë‹¨ê³„: ìŠ¤í‚¤ë§ˆ ì„¤ê³„í•˜ê¸°

ì´ì œ `Task.js` íŒŒì¼ ì•ˆì—ì„œ Mongooseë¥¼ ì´ìš©í•´ ìŠ¤í‚¤ë§ˆë¥¼ ì§ì ‘ ì„¤ê³„í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```javascript
// /models/Task.js
import mongoose from 'mongoose';

// 'Task' ë°ì´í„°ì˜ ì„¤ê³„ë„(Schema)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
const TaskSchema = new mongoose.Schema(
  // 1. ë°ì´í„°ì˜ í•„ë“œ(ì†ì„±)ì™€ ê·œì¹™ì„ ì •ì˜í•˜ëŠ” ê°ì²´
  {
    title: {
      type: String, // ì œëª©ì€ ë¬¸ìì—´ íƒ€ì…
    },
    description: {
      type: String, // ì„¤ëª…ë„ ë¬¸ìì—´ íƒ€ì…
    },
    isComplete: {
      type: Boolean, // ì™„ë£Œ ì—¬ë¶€ëŠ” Boolean íƒ€ì…
      default: false, // ê¸°ë³¸ê°’ì€ false (ë¯¸ì™„ë£Œ)
    },
  },
  // 2. ìŠ¤í‚¤ë§ˆ ì˜µì…˜
  {
    timestamps: true, // createdAt, updatedAt íƒ€ì„ìŠ¤íƒ¬í”„ ìë™ ìƒì„±
  }
);
```

#### **ìŠ¤í‚¤ë§ˆ êµ¬ì¡° ì‚´í´ë³´ê¸°**

`new mongoose.Schema()` ì•ˆì—ëŠ” ë‘ ê°œì˜ ê°ì²´ê°€ ì¸ìë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.

1.  **í•„ë“œ ì •ì˜ ê°ì²´**: ìš°ë¦¬ê°€ ë‹¤ë£° ë°ì´í„°ì˜ ì‹¤ì œ í•„ë“œì™€ ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤.
    - `title`, `description`, `isComplete`ì™€ ê°™ì€ ê° í•„ë“œì˜ ì´ë¦„ê³¼ í•¨ê»˜ `type`(ë°ì´í„° íƒ€ì…), `default`(ê¸°ë³¸ê°’) ë“±ì˜ ê·œì¹™ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - `id` í•„ë“œëŠ” MongoDBê°€ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ë¯€ë¡œ ë”°ë¡œ ì •ì˜í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
2.  **ìŠ¤í‚¤ë§ˆ ì˜µì…˜ ê°ì²´**: ìŠ¤í‚¤ë§ˆ ì „ì²´ì— ì ìš©ë  ì˜µì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤.
    - `timestamps: true` ì˜µì…˜ì„ ì¶”ê°€í•˜ë©´, ë°ì´í„°ê°€ ìƒì„±ë˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ Mongooseê°€ ìë™ìœ¼ë¡œ `createdAt`(ìƒì„± ì‹œê°)ê³¼ `updatedAt`(ìˆ˜ì • ì‹œê°) í•„ë“œë¥¼ ì¶”ê°€í•˜ê³  ê´€ë¦¬í•´ì¤ë‹ˆë‹¤. ë§¤ìš° í¸ë¦¬í•œ ê¸°ëŠ¥ì´ë‹ˆ ê¼­ ê¸°ì–µí•´ë‘ì„¸ìš”\!

### 3ë‹¨ê³„: ëª¨ë¸ ë§Œë“¤ê¸°

ì„¤ê³„ë„(Schema)ë¥¼ ë‹¤ ë§Œë“¤ì—ˆìœ¼ë‹ˆ, ì´ì œ ì´ ì„¤ê³„ë„ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ ë°ì´í„°ë¥¼ ë§Œë“¤ê³ , ì½ê³ , ìˆ˜ì •í•˜ê³ , ì‚­ì œí•  ìˆ˜ ìˆëŠ” **ëª¨ë¸(Model)** ì„ ë§Œë“¤ ì°¨ë¡€ì…ë‹ˆë‹¤. ëª¨ë¸ì€ ìŠ¤í‚¤ë§ˆë¥¼ í˜„ì‹¤ ì„¸ê³„ì˜ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•˜ê²Œ í•´ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.

```javascript
// /models/Task.js (TaskSchema ì•„ë˜ì— ì¶”ê°€)

// TaskSchemaë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” 'Task' ëª¨ë¸ì„ ìƒì„±í•©ë‹ˆë‹¤.
const Task = mongoose.model('Task', TaskSchema);
```

> **âœ¨ Mongooseì˜ ë§ˆë²• ê°™ì€ ë„¤ì´ë° ê·œì¹™\!** > `mongoose.model()`ì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ì´ë¦„ì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.
>
> - `'Task'`ì²˜ëŸ¼ **ì²« ê¸€ìëŠ” ëŒ€ë¬¸ì, ë‹¨ìˆ˜í˜•**ìœ¼ë¡œ ì´ë¦„ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ê´€ë¡€ì…ë‹ˆë‹¤.
> - MongooseëŠ” ì´ ì´ë¦„ì„ ë°”íƒ•ìœ¼ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” **ì†Œë¬¸ì, ë³µìˆ˜í˜•** ì´ë¦„ì˜ ì»¬ë ‰ì…˜(`tasks`)ì„ ìë™ìœ¼ë¡œ ì°¾ì•„ ì—°ê²°í•´ì¤ë‹ˆë‹¤. (`Task` -\> `tasks`)

### 4ë‹¨ê³„: ëª¨ë¸ ë‚´ë³´ë‚´ê¸°

ë§ˆì§€ë§‰ìœ¼ë¡œ, ìƒì„±í•œ `Task` ëª¨ë¸ì„ ë‹¤ë¥¸ íŒŒì¼ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ `export` í•´ì¤ë‹ˆë‹¤.

```javascript
// /models/Task.js (íŒŒì¼ ë§¨ ì•„ë˜ì— ì¶”ê°€)

// ë‹¤ë¥¸ íŒŒì¼ì—ì„œ Task ëª¨ë¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ export í•©ë‹ˆë‹¤.
export default Task;
```

---

### âœ… ìµœì¢… ì½”ë“œ

ì§€ê¸ˆê¹Œì§€ì˜ ê³¼ì •ì„ ëª¨ë‘ ë°˜ì˜í•œ `models/Task.js` íŒŒì¼ì˜ ì „ì²´ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```javascript
// /models/Task.js
import mongoose from 'mongoose';

const TaskSchema = new mongoose.Schema(
  {
    title: {
      type: String,
    },
    description: {
      type: String,
    },
    isComplete: {
      type: Boolean,
      default: false,
    },
  },
  {
    timestamps: true,
  }
);

const Task = mongoose.model('Task', TaskSchema);

export default Task;
```

ì´ì œ ìš°ë¦¬ëŠ” ì´ `Task` ëª¨ë¸ì„ ê°€ì§€ê³  ë°ì´í„°ë² ì´ìŠ¤ì— í•  ì¼ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì¡°íšŒí•˜ëŠ” ë“± ë‹¤ì–‘í•œ ì‘ì—…ì„ í•  ì¤€ë¹„ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤\! ğŸ‰
