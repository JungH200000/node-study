## Todo API 문서

이 문서는 **Task(할 일)** 를 관리하기 위한 API 명세서입니다.

### 📜 전체 엔드포인트

| Method   | URL          | 설명                           |
| :------- | :----------- | :----------------------------- |
| `GET`    | `/tasks`     | 모든 Task 목록을 조회합니다.   |
| `GET`    | `/tasks/:id` | 특정 Task를 조회합니다.        |
| `POST`   | `/tasks`     | 새로운 Task를 생성합니다.      |
| `PATCH`  | `/tasks/:id` | 특정 Task의 정보를 수정합니다. |
| `DELETE` | `/tasks/:id` | 특정 Task를 삭제합니다.        |

_참고: API의 기본 주소(예: `http://localhost:3000`)는 배포 환경에 따라 달라질 수 있으므로 생략_

### 📦 Task 객체 모델

API에서 사용되는 `Task` 객체의 구조는 다음과 같습니다.

#### 속성

- `_id`: **string**
  - Task 객체의 고유 식별자입니다.
  - 최종적으로는 MongoDB의 `ObjectId` 형식을 따르지만, 개발 초기 단계에서는 숫자(1, 2, 3...)를 사용할 수 있습니다.
  - **자동 생성 필드**입니다.
- `title`: **string**
  - Task의 제목입니다. (필수, 최대 30자)
- `description`: **string**
  - Task의 상세 설명입니다. (선택)
- `isComplete`: **boolean**
  - Task 완료 여부를 나타냅니다.
  - 새로운 Task 생성 시 **기본값은 `false`** 입니다.
- `createdAt`: **string**
  - 객체가 생성된 시점의 타임스탬프입니다. (ISO 8601 형식: `YYYY-MM-DDTHH:MM:SS.SSSZ`)
  - **자동 생성 필드**입니다.
- `updatedAt`: **string**
  - 객체가 마지막으로 수정된 시점의 타임스탬프입니다. (ISO 8601 형식)
  - **자동 생성 필드**입니다.

#### 객체 예시

```json
{
  "_id": "641bf3c9c0a964b65289902a",
  "title": "파이썬 공부",
  "description": "프로그래밍 시작하기 in Python 토픽 끝내기",
  "isComplete": false,
  "createdAt": "2023-03-23T06:34:11.617Z",
  "updatedAt": "2023-03-23T06:34:11.617Z"
}
```

---

### 🔍 Task 목록 조회

`Task` 객체의 전체 목록을 조회합니다. 기본적으로 최신순으로 정렬됩니다.

- **엔드포인트**: `GET /tasks`

#### 쿼리 파라미터 (Query Parameters)

- `sort`: **string**
  - 정렬 순서를 지정합니다. `oldest`를 값으로 주면 오래된 순으로, 그 외의 경우(또는 생략 시) 최신순으로 정렬됩니다.
- `count`: **integer**
  - 받고 싶은 Task 객체의 수를 지정합니다. 생략 시 모든 객체를 반환합니다.

#### 응답 (Response)

- **성공**: `200 OK` 상태 코드와 함께 `Task` 객체 배열을 반환합니다.
- **실패**: 에러 상태 코드와 메시지를 반환합니다.

#### 요청 및 응답 예시

- **요청**
  ```
  GET http://localhost:3000/tasks
  ```
- **응답**

  ```json
  HTTP/1.1 200 OK
  Content-Type: application/json

  [
    {
      "_id": "641bf3c9c0a964b65289902a",
      "title": "파이썬 공부",
      "description": "프로그래밍 시작하기 in Python 토픽 끝내기",
      "isComplete": false,
      "createdAt": "2023-03-23T06:34:11.617Z",
      "updatedAt": "2023-03-23T06:34:11.617Z"
    },
    {
      "_id": "641bf3c9c0a964b65289903c",
      "title": "독서",
      "description": "30 페이지",
      "isComplete": false,
      "createdAt": "2023-03-23T06:34:10.617Z",
      "updatedAt": "2023-03-23T06:34:10.617Z"
    }
  ]
  ```

---

### 🔎 특정 Task 조회

URL 파라미터로 전달된 `:id`에 해당하는 `Task` 객체 하나를 조회합니다.

- **엔드포인트**: `GET /tasks/:id`

#### 응답 (Response)

- **성공**: `200 OK` 상태 코드와 함께 해당 `Task` 객체를 반환합니다.
- **실패**: 에러 상태 코드와 메시지를 반환합니다.

#### 요청 및 응답 예시

- **요청**
  ```
  GET http://localhost:3000/tasks/641bf3c9c0a964b65289902a
  ```
- **응답**

  ```json
  HTTP/1.1 200 OK
  Content-Type: application/json

  {
    "_id": "641bf3c9c0a964b65289902a",
    "title": "파이썬 공부",
    "description": "프로그래밍 시작하기 in Python 토픽 끝내기",
    "isComplete": false,
    "createdAt": "2023-03-23T06:34:11.617Z",
    "updatedAt": "2023-03-23T06:34:11.617Z"
  }
  ```

---

### ✨ Task 생성

요청 바디(Body)에 담긴 정보를 사용하여 새로운 `Task` 객체를 생성합니다.

- **엔드포인트**: `POST /tasks`

#### 바디 파라미터 (Body Parameters)

- `title`: **string** (필수)
  - Task 제목 (30자 이내)
- `description`: **string** (선택)
  - Task 상세 설명

#### 응답 (Response)

- **성공**: `201 Created` 상태 코드와 함께 생성된 `Task` 객체를 반환합니다.
- **실패**: 에러 상태 코드와 메시지를 반환합니다.

#### 요청 및 응답 예시

- **요청**

  ```
  POST http://localhost:3000/tasks
  Content-Type: application/json

  {
    "title": "강아지 산책",
    "description": "강아지랑 30분 산책하기"
  }
  ```

- **응답**

  ```json
  HTTP/1.1 201 Created
  Content-Type: application/json

  {
    "_id": "641bf3c9c0a964b65289902d",
    "title": "강아지 산책",
    "description": "강아지랑 30분 산책하기",
    "isComplete": false,
    "createdAt": "2023-04-17T05:41:35.319Z",
    "updatedAt": "2023-04-17T05:41:35.319Z"
  }
  ```

---

### ✏️ Task 수정

URL의 `:id`에 해당하는 `Task` 객체의 정보를 요청 바디의 내용으로 수정합니다.

- **엔드포인트**: `PATCH /tasks/:id`

#### 바디 파라미터 (Body Parameters)

`PATCH` 메서드는 객체의 일부만 수정하므로, 아래 모든 필드는 **선택 사항**입니다.

- `title`: **string** (30자 이내)
- `description`: **string**
- `isComplete`: **boolean**

#### 응답 (Response)

- **성공**: `200 OK` 상태 코드와 함께 수정된 `Task` 객체를 반환합니다.
- **실패**: 에러 상태 코드와 메시지를 반환합니다.

#### 요청 및 응답 예시

- **요청**

  ```
  PATCH http://localhost:3000/tasks/641bf3c9c0a964b65289902a
  Content-Type: application/json

  {
    "title": "자바스크립트 공부",
    "description": "프로그래밍 시작하기 in JavaScript 토픽 끝내기"
  }
  ```

- **응답**

  ```json
  HTTP/1.1 200 OK
  Content-Type: application/json

  {
    "_id": "641bf3c9c0a964b65289902a",
    "title": "자바스크립트 공부",
    "description": "프로그래밍 시작하기 in JavaScript 토픽 끝내기",
    "isComplete": false,
    "createdAt": "2023-03-23T06:34:11.617Z",
    "updatedAt": "2023-03-24T06:34:11.617Z"
  }
  ```

#### 💡 `PATCH` vs `PUT`

데이터를 수정할 때 `PUT` 메서드도 많이 사용합니다. 둘의 차이는 다음과 같습니다.

- **PATCH**: 데이터의 **일부를 수정**합니다. 요청에 포함된 필드만 변경됩니다.
- **PUT**: 데이터 전체를 **교체**합니다. 요청에 포함되지 않은 필드는 `null`이 되거나 초기화될 수 있습니다.

Todo 앱처럼 특정 항목(완료 여부, 제목 등)만 개별적으로 수정하는 경우가 많을 때는 `PATCH`가 더 직관적이고 편리합니다.

---

### 🗑️ Task 삭제

URL의 `:id`에 해당하는 `Task` 객체를 삭제합니다.

- **엔드포인트**: `DELETE /tasks/:id`

#### 응답 (Response)

- **성공**: `204 No Content` 상태 코드를 반환하며, 응답 바디는 비어있습니다.
- **실패**: 에러 상태 코드와 메시지를 반환합니다.

#### 요청 및 응답 예시

- **요청**
  ```
  DELETE http://localhost:3000/tasks/641bf3c9c0a964b65289902a
  ```
- **응답**
  ```
  HTTP/1.1 204 No Content
  ```
