## 🚦 Express의 길잡이, 라우트(Route) 완벽 이해하기

Express 애플리케이션은 마치 커다란 빌딩과 같습니다. 사용자가 URL을 통해 특정 층(부서)을 찾아오면, 어떤 안내 데스크에서 어떤 업무를 처리해줘야 할지 알려주는 안내판이 필요하겠죠? Express에서 이 **안내판 역할**을 하는 것이 바로 **라우트(Route)** 입니다.

**라우팅(Routing)** 이란, 클라이언트의 요청(Request)에 대해 애플리케이션이 어떻게 응답(Response)할지를 결정하는 과정을 말합니다. 즉, 특정 URL 경로(`path`)와 특정 HTTP 메소드(`method`)의 조합에 대해 어떤 코드를 실행할지 연결해주는 작업입니다.

### 라우트 정의의 기본 구조

Express 라우트는 다음과 같은 간단한 구조로 정의할 수 있습니다.

```javascript
app.method(path, handler);
```

- `app`: Express 애플리케이션 인스턴스입니다.
- `method`: 요청에 응답하기 위한 **HTTP 메소드**입니다. `get`, `post`, `patch`, `delete` 등 소문자로 된 메소드 이름이 들어갑니다.
- `path`: 서버의 URL 경로(엔드포인트)입니다.
- `handler`: 라우트가 일치할 때 실행되는 **핸들러 함수**입니다. 이 함수에서 요청을 처리하고 응답을 보내는 모든 로직이 실행됩니다.

> **핸들러 함수(Handler Function)** 💡
> 핸들러 함수는 항상 두 개의 중요한 인자, `req`(request)와 `res`(response)를 받습니다.
>
> - `req`: 클라이언트의 HTTP 요청에 대한 모든 정보(파라미터, 헤더, 본문 등)를 담고 있는 **요청 객체**입니다.
> - `res`: 서버가 클라이언트에게 보낼 응답을 구성하는 데 사용되는 **응답 객체**입니다. `res.send()`, `res.json()` 등의 메소드를 사용해 응답을 보낼 수 있습니다.

### 핸들러 함수 작성 스타일

핸들러 함수를 작성하는 방법은 크게 두 가지 스타일이 있습니다.

#### 1\. 화살표 함수를 인라인으로 작성하기

가장 흔하고 간결한 방법입니다. 라우트를 정의하는 곳에 바로 핸들러 로직을 화살표 함수로 작성합니다.

```javascript
// '/some/path' 경로로 GET 요청이 오면 실행됩니다.
app.get('/some/path', (req, res) => {
  // 요청을 처리하는 로직
  res.send('Hello from the arrow function!');
});
```

#### 2\. 함수를 미리 선언하여 전달하기

핸들러 함수의 로직이 복잡하거나 여러 곳에서 재사용될 가능성이 있다면, 함수를 미리 선언하고 그 이름을 전달하는 것이 좋습니다. 이렇게 하면 라우트 정의 부분이 훨씬 깔끔해집니다.

```javascript
// 핸들러 함수를 미리 선언
function specificPathHandler(req, res) {
  // 요청을 처리하는 로직
  res.send('Hello from the declared function!');
}

// '/some/path' 경로의 핸들러로 위에서 선언한 함수를 전달
app.get('/some/path', specificPathHandler);
```

이 두 가지 방법 중 어떤 것을 사용하든 기능적으로는 동일합니다. 코드의 간결성, 재사용성, 가독성 등을 고려하여 상황에 맞는 스타일을 선택하면 됩니다. 이제 여러분의 Express 서버에 원하는 길(Route)을 자유롭게 만들어보세요\! 🎉
