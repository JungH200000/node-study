## 🛍️ (실습) 관계를 따라서 데이터 가져오기

### 실습 목표

1. `GET /orders/:id`에서 `Order`와 관련된 `OrderItem`도 모두 조회할 수 있도록 해 주세요.

2. 특정 유저의 `Order`를 모두 조회할 수 있는 `GET /users/:id/orders` 엔드포인트를 완성해 주세요. 유저 정보는 조회할 필요 없고, 유저의 `Order`만 모두 조회하면 됩니다.

#

#

#

#

---

#

#

#

#

## 참고

### 💡 더 깊게 들어가기: 중첩된 관계 조회 (Nested Include)

`include`는 중첩해서 사용할 수도 있습니다. 만약 `OrderItem`의 정보뿐만 아니라, 그 `OrderItem`이 가리키는 `Product`의 상세 정보까지 한 번에 가져오고 싶다면 다음과 같이 `include` 안에 `include`를 추가할 수 있습니다.

```javascript
const order = await prisma.order.findUniqueOrThrow({
  where: { id },
  include: {
    orderItems: {
      // 1. OrderItem을 포함하고,
      include: {
        product: true, // 2. 그 OrderItem의 product 정보까지 포함한다.
      },
    },
  },
});
```

이렇게 하면 단 한 번의 쿼리로 `Order → OrderItems → Product`로 이어지는 모든 관계 데이터를 가져올 수 있습니다.
