## API와의 대화 신호등: HTTP 상태 코드 완벽 정복 🚦

클라이언트가 서버에 요청(Request)을 보내면, 서버는 항상 응답(Response)을 돌려줍니다. 그런데 서버가 보내주는 응답 본문(Body)만으로는, 클라이언트(컴퓨터)가 요청이 성공했는지 실패했는지 한 번에 알기 어렵습니다. 사람이 글을 읽고 성공/실패를 판단하는 것과 달리, 컴퓨터에게는 명확한 '신호'가 필요하기 때문이죠.

이때 사용되는 것이 바로 **HTTP 상태 코드(Status Code)**입니다. 상태 코드는 서버가 클라이언트에게 **"너의 요청은 이렇게 처리됐어!"** 라고 알려주는, 세 자리 숫자로 된 약속된 신호입니다.

REST API의 원칙 중 하나는 클라이언트가 응답을 받을 때 자원의 '표현'뿐만 아니라 자원의 '상태'에 대한 정보도 함께 받아야 한다는 것입니다. 여기서 상태 코드가 바로 그 '상태' 정보를 알려주는 핵심적인 역할을 합니다.

---

### 💯 상태 코드의 기본 구조

상태 코드는 **세 자리 숫자**와 그 의미를 설명하는 **짧은 메시지**로 구성됩니다. (예: `200 OK`)

숫자는 100번대부터 500번대까지 있으며, 첫 번째 숫자는 응답의 종류를 나타내는 그룹을 의미합니다. 마치 신호등처럼 말이죠!

- **1xx (정보)**: 요청을 받았고, 처리 중입니다. (잠시 대기 🚦)
- **2xx (성공)**: 요청을 성공적으로 처리했습니다. (초록불 ✅)
- **3xx (리다이렉션)**: 요청을 완료하려면 다른 곳으로 가야 합니다. (우회전 ↪️)
- **4xx (클라이언트 오류)**: 요청에 문제가 있습니다. (빨간불, 운전자 과실 🙋‍♂️)
- **5xx (서버 오류)**: 서버에 문제가 생겼습니다. (빨간불, 서버 과실 servidores 🔥)

모든 코드를 외울 필요는 없습니다! 자주 사용되는 코드들만 알아두고, 나머지는 필요할 때마다 찾아보는 것으로 충분합니다. 더 많은 상태 코드가 궁금하다면 [MDN 문서](https://developer.mozilla.org/ko/docs/Web/HTTP/Reference/Status)와 [RFC 2616](https://datatracker.ietf.org/doc/html/rfc2616#section-10)를 참고해 보세요.

---

### 🧐 꼭 알아야 할 필수 상태 코드

#### `1xx`: 처리 중 ⏳

- **`100 Continue`**: 요청의 일부를 잘 받았고, 나머지 요청을 계속 보내도 좋다는 신호입니다.

#### `2xx`: 성공의 초록불! ✅

- **`200 OK`**: 요청이 성공적으로 처리되었음을 의미하는 가장 일반적인 코드입니다.
- **`201 Created`**: 요청이 성공하여 새로운 자원(예: 새로운 게시글, 새로운 회원)이 생성되었음을 의미합니다.
- **`204 No Content`**: 요청은 성공했지만, 응답으로 보내줄 콘텐츠(본문)가 없음을 의미합니다. (예: 게시글 삭제 성공 후)

#### `3xx`: 다른 주소로 가세요 ↪️

- **`301 Moved Permanently`**: 요청한 자원의 주소가 영구적으로 변경되었음을 나타냅니다. 앞으로는 새로운 주소로 요청해야 합니다.
- **`302 Found`**: 요청한 자원의 주소가 일시적으로 변경되었음을 나타냅니다. 이번 요청은 새 주소로 처리하지만, 다음번엔 원래 주소로 다시 요청해야 합니다.
- **`304 Not Modified`**: 이전에 받은 데이터와 비교했을 때 변경된 내용이 없음을 의미합니다. 클라이언트는 캐시된 데이터를 그대로 사용해도 좋습니다.

#### `4xx`: 요청이 잘못됐어요 🙋‍♂️

- **`400 Bad Request`**: 문법이 틀리는 등 클라이언트의 요청 자체가 잘못되어 서버가 이해할 수 없음을 의미합니다.
- **`401 Unauthorized`**: 이 요청을 처리하려면 **인증(Authentication)**이 필요함을 의미합니다. (예: 로그인 필요)
- **`403 Forbidden`**: 서버가 요청을 이해했지만, 접근할 **권한(Authorization)**이 없어서 거절했음을 의미합니다. (`401`과 달리, 이미 로그인은 했지만 해당 리소스에 접근할 등급이 아닌 경우)
- **`404 Not Found`**: 요청한 자원(페이지, 파일 등)을 서버에서 찾을 수 없음을 의미합니다. 가장 흔하게 볼 수 있는 오류입니다.
- **`405 Method Not Allowed`**: 요청한 URI에서는 허용되지 않는 HTTP 메서드(예: `GET`만 가능한 주소에 `POST` 요청)를 사용했음을 의미합니다.

#### `5xx`: 서버에 문제가 생겼어요 🔥

- **`500 Internal Server Error`**: 서버 내부에 알 수 없는 오류가 발생하여 요청을 처리할 수 없음을 의미하는 일반적인 서버 오류 코드입니다.
- **`502 Bad Gateway`**: 중간 단계의 서버(게이트웨이, 프록시)로부터 잘못된 응답을 받아 요청을 처리할 수 없음을 의미합니다.
- **`503 Service Unavailable`**: 서버가 일시적인 과부하 또는 유지보수로 인해 현재 요청을 처리할 수 없음을 의미합니다. 잠시 후 다시 시도하면 해결될 수 있습니다.
- **`504 Gateway Timeout`**: 중간 단계의 서버가 정해진 시간 내에 응답을 받지 못했음을 의미합니다. (시간 초과)

---

### ✍️ 핵심 요약

- **HTTP 상태 코드**는 클라이언트의 요청이 어떻게 처리되었는지 알려주는 **서버의 표준화된 신호**입니다.
- 상태 코드는 **1xx부터 5xx까지 5개의 그룹**으로 나뉘며, 각 그룹은 정보, 성공, 리다이렉션, 클라이언트 오류, 서버 오류를 의미합니다.
- API를 설계할 때 **상황에 맞는 정확한 상태 코드를 반환**하는 것은, API를 사용하는 클라이언트가 응답의 결과를 명확하게 이해하고 후속 조치를 원활하게 수행하도록 돕는 매우 중요한 약속입니다.
